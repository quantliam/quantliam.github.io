<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Accelerated C++ Solutions," />










<meta name="description" content="Exercise 4-0Compile, execute, and test the programs in this chapter Solution &amp;amp; ResultsThis exercise has been done presented in Organizing programs with functions and Organizing programs with data">
<meta name="keywords" content="Accelerated C++ Solutions">
<meta property="og:type" content="article">
<meta property="og:title" content="Accelerated C++ Solutions to Exercises(Chapter 4 Part 1)">
<meta property="og:url" content="http://www.quanttour.com/09/03/2018/Accelerated-C-Solutions-to-Exercises-Chapter-4/index.html">
<meta property="og:site_name" content="Liam&#39;s Blog">
<meta property="og:description" content="Exercise 4-0Compile, execute, and test the programs in this chapter Solution &amp;amp; ResultsThis exercise has been done presented in Organizing programs with functions and Organizing programs with data">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-03-11T13:38:28.847Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Accelerated C++ Solutions to Exercises(Chapter 4 Part 1)">
<meta name="twitter:description" content="Exercise 4-0Compile, execute, and test the programs in this chapter Solution &amp;amp; ResultsThis exercise has been done presented in Organizing programs with functions and Organizing programs with data">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.quanttour.com/09/03/2018/Accelerated-C-Solutions-to-Exercises-Chapter-4/"/>





  <title>Accelerated C++ Solutions to Exercises(Chapter 4 Part 1) | Liam's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Liam's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">If history repeats itself, and the unexpected always happens, how incapable must Man be of learning from experience?—George Bernard Shaw.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.quanttour.com/09/03/2018/Accelerated-C-Solutions-to-Exercises-Chapter-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liam">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Liam's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Accelerated C++ Solutions to Exercises(Chapter 4 Part 1)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-09T14:38:09+08:00">
                09-03-2018
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Programming</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2,888
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  18
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Exercise-4-0"><a href="#Exercise-4-0" class="headerlink" title="Exercise 4-0"></a>Exercise 4-0</h1><p>Compile, execute, and test the programs in this chapter</p>
<h2 id="Solution-amp-Results"><a href="#Solution-amp-Results" class="headerlink" title="Solution &amp; Results"></a>Solution &amp; Results</h2><p>This exercise has been done presented in <a href="http://quanttour.com/06/03/2018/C-Organizing-programs-and-data/" target="_blank" rel="noopener">Organizing programs with functions</a> and <a href="http://quanttour.com/08/03/2018/Organizing-programs-and-data-Part-2/" target="_blank" rel="noopener">Organizing programs with data structures</a>.</p>
<hr>
<h1 id="Exercise-4-1"><a href="#Exercise-4-1" class="headerlink" title="Exercise 4-1"></a>Exercise 4-1</h1><p>We noted in §4.2.3/65 that it is essential that the argument types in a call to maxmatch exactly. Will the following code work? If there is a problem, how would you fix it?<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> maxlen;</span><br><span class="line">Student_info s;</span><br><span class="line">max(s.name.size(), maxlen);</span><br></pre></td></tr></table></figure></p>
<h2 id="Solution-amp-Results-1"><a href="#Solution-amp-Results-1" class="headerlink" title="Solution &amp; Results"></a>Solution &amp; Results</h2><p>It doesn’t work. There exist two problems here. </p>
<p>First, the <strong>max</strong> function defined in standard header<algorithm> requires that both arguments must have the same type. But in this piece of code, <strong>s.name.size()</strong> has the type of <strong>string::size_type</strong> while <strong>maxlen</strong> is a <strong>int</strong> type. To fix this, we need to define <strong>maxlen</strong> as a variable of type <strong>string::size_type</strong>. </algorithm></p>
<p>Second, it should be initialized as a variable of <strong>built-in</strong> type(assuming no problem with type <strong>int</strong>) is undefined if it is not initialized explicitly. For a variable of other types, the default value (if available, otherwise the variable is undefined) depends on how each type defines. I did a simple experiment as follows<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span>::size_type y;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; y;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>The result is<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4200939</span><br></pre></td></tr></table></figure></p>
<p>with warning<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&apos;y&apos; is used uninitialized in this function</span><br></pre></td></tr></table></figure></p>
<p>The experiment shows that the type of <strong>string::size_type</strong> doesn’t support default initialization. To fixed this, we need to explicitly initialize it. </p>
<p>The correct code should be:<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>::size_type maxlen = <span class="number">0</span>;</span><br><span class="line">Student_info s;</span><br><span class="line">max(s.name.size(), maxlen);</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="Exercise-4-2-4-3"><a href="#Exercise-4-2-4-3" class="headerlink" title="Exercise 4-2, 4-3"></a>Exercise 4-2, 4-3</h1><p>4-2: Write a program to calculate the squares of int values up to 100. The program should write two columns: The first lists the value; the second contains the square of that value.Use setw to manage the output so that the values line up in columns.</p>
<p>4-3: What happens if we rewrite the previous program to allow values up to but not including 1000 but neglect to change the arguments to setw? Rewrite the program to be more robust in the face of changes that allow i to grow without adjusting the setw arguments.</p>
<h2 id="Solution-amp-Result"><a href="#Solution-amp-Result" class="headerlink" title="Solution &amp; Result"></a>Solution &amp; Result</h2><h3 id="algorithms"><a href="#algorithms" class="headerlink" title="algorithms"></a>algorithms</h3><p>Exercise 4-3 is a generalized version of 4-2. Specifically, the program is required to write two colomns as follows<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  0        0</span><br><span class="line">  1        1</span><br><span class="line">  2        4</span><br><span class="line">  3        9</span><br><span class="line">...      ...</span><br><span class="line"> 99     9801</span><br><span class="line">100    10000 </span><br><span class="line">...      ...</span><br><span class="line">  n      n*n</span><br></pre></td></tr></table></figure></p>
<p>Each line contains an integer value followed by the square of the integer. The range of integers in the first column starts from 0 to 1000 (excluded). Most importantly, each line should be formated such that the values line up in columns. </p>
<p>The key to the solution is to find the longest number in each column. Then, we can set the width of the first column as the number of digits of the corresponding longest number. Analogously, the width of the second column will be set as the number of digits of the longest number in it, with an additional space to seperate from the first column.</p>
<p>For an ascending sequence, the longest numbers in both columns depend on the largest number. For exercise 4-2, the largest number is 100 and 10000 (square of 100) in the first and second column, respectively. We can write and format each line as below shows<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != <span class="number">101</span>; ++i)</span><br><span class="line">&#123;   </span><br><span class="line">    <span class="comment">// 100 has three digits and 10000 has 5 digits, 1 additional space for seperate two columns</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; setw(<span class="number">3</span>) &lt;&lt; i &lt;&lt; setw(<span class="number">6</span>) &lt;&lt; i*i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Exercise 4-3 requires more flexibility such that no needs to change <strong>setw</strong> arguments when the largest number changes. Naturally, the key is to compute the number of digits of a user-defined largest number, e,g. defined as <strong>maxNum</strong>.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hold the number of digits of maxNum and its square</span></span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hold the values of the largest number and its square</span></span><br><span class="line"><span class="keyword">int</span> j = maxNum;</span><br><span class="line"><span class="keyword">int</span> k = maxNum*maxNum;</span><br><span class="line"><span class="comment">// bounds check</span></span><br><span class="line"><span class="keyword">if</span> (j &gt;= <span class="number">1000</span> || j &lt; <span class="number">0</span>) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a number greater than or equal to 0 and less than 1000. Please try again "</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// computations</span></span><br><span class="line"><span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">    m = n = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// loop invariant: we have counted n digits of the value j</span></span><br><span class="line">    <span class="keyword">while</span> (j != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// each operation j reduces one digit </span></span><br><span class="line">        j /= <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// maintain the loop invariant</span></span><br><span class="line">        ++n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// loop invariant: we have counted n digits of the value j</span></span><br><span class="line">    <span class="keyword">while</span> (k != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        k /= <span class="number">10</span>;</span><br><span class="line">        ++m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="organize-the-program-with-functions"><a href="#organize-the-program-with-functions" class="headerlink" title="organize the program with functions"></a>organize the program with functions</h3><p>Obviously, above code is partly repeated. I’ll rewrite the computations as a function which returns the number of digits of an entered value.<br><strong>width.cpp</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function to compute the number of digits of an integer value</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"width.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">width</span><span class="params">(<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">            ++n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>width.h</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GUARD_width_h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GUARD_width_h</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">width</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p>
<p><strong>mainfunction.cpp</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"width.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;     <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;    <span class="keyword">using</span> <span class="built_in">std</span>::setw;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="comment">// asks to enter the upper bound </span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a number greater than or equal to 0 and less than 1000: "</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// read the largest number</span></span><br><span class="line">    <span class="keyword">int</span> maxNum;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; maxNum;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// bounds check</span></span><br><span class="line">    <span class="keyword">if</span> (maxNum &gt;= <span class="number">1000</span> || maxNum &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"The entered value is beyond the allowed value range. Please try again."</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// write the outputs</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != maxNum + <span class="number">1</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; setw(width(maxNum)) &lt;&lt; i </span><br><span class="line">        &lt;&lt; setw(width(maxNum*maxNum) + <span class="number">1</span>) &lt;&lt; i*i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Test-performance"><a href="#Test-performance" class="headerlink" title="Test performance"></a>Test performance</h3><p><strong>Test 1</strong>: the upper limit is 10<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Enter a number greater than or equal to 0 and less than 1000: 10</span><br><span class="line"> 0   0</span><br><span class="line"> 1   1</span><br><span class="line"> 2   4</span><br><span class="line"> 3   9</span><br><span class="line"> 4  16</span><br><span class="line"> 5  25</span><br><span class="line"> 6  36</span><br><span class="line"> 7  49</span><br><span class="line"> 8  64</span><br><span class="line"> 9  81</span><br><span class="line">10 100</span><br></pre></td></tr></table></figure></p>
<p><strong>Test 2</strong>: the upper limit is 101<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Enter a number greater than or equal to 0 and less than 1000: 101</span><br><span class="line">  0     0</span><br><span class="line">  1     1</span><br><span class="line">  2     4</span><br><span class="line">  3     9</span><br><span class="line"> ..    .. </span><br><span class="line"> 90  8100</span><br><span class="line"> 91  8281</span><br><span class="line"> 92  8464</span><br><span class="line"> 93  8649</span><br><span class="line"> 94  8836</span><br><span class="line"> 95  9025</span><br><span class="line"> 96  9216</span><br><span class="line"> 97  9409</span><br><span class="line"> 98  9604</span><br><span class="line"> 99  9801</span><br><span class="line">100 10000</span><br><span class="line">101 10201</span><br></pre></td></tr></table></figure></p>
<p><strong>Test 3</strong>: the upper limit is 1000<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter a number greater than or equal to 0 and less than 1000: 1000</span><br><span class="line">The entered value is beyond the allowed value range. Please try again.</span><br></pre></td></tr></table></figure></p>
<p>It can be seen from these tests that the program perform as expected. </p>
<hr>
<h1 id="Exercise-4-4"><a href="#Exercise-4-4" class="headerlink" title="Exercise 4-4"></a>Exercise 4-4</h1><p>Now change your squares program to use double values instead of ints. Use manipulators to manage the output so that the values line up in columns</p>
<h2 id="Solution-amp-Results-2"><a href="#Solution-amp-Results-2" class="headerlink" title="Solution &amp; Results"></a>Solution &amp; Results</h2><p>The difference between this exercise and last exercise is that the function <strong>width</strong> defined above can not compute the number of digits of a double value. Admittedly, I didn’t found very good strategy to complete this project. I circument the problem applying the type conversion technique. Specifically</p>
<ol>
<li>divide the maxNum/maxNum*maxNum into integer part and fractional part. </li>
<li>compute the number of digits of the integer part using same function as shown above. </li>
<li>control the fractional part with an additional user-defined variable <strong>places</strong> which represents the number of places after the dot point. </li>
</ol>
<p>The arguments of <strong>*setw</strong> for the first column is:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">width(maxNum) + 1 + places</span><br></pre></td></tr></table></figure></p>
<p>The number <strong>1</strong> leaves room for the decimal point.</p>
<p>The arguments of <strong>*setw</strong> for the first column is:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">width(maxNum*maxNum) + 1 + 1 + places</span><br></pre></td></tr></table></figure></p>
<p>One of two values of 1 is added for the decimal point while the other one is added for seperating from the first column. I didn’t change anything in the <strong>width</strong> function described above and hence the arguments to be passed are converted to <strong>int</strong> type, leading to that the returned value of <strong>width</strong> is the width of the part before the decimal point. </p>
<p>Beyond this, the program asks to enter an initial value and an value of the increment for numbers of the first column. For example, we set the initial value as 0.0 and increment as 0.5, the first column becomes<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0.0</span><br><span class="line">0.5</span><br><span class="line">1.0</span><br><span class="line">...</span><br><span class="line">n</span><br></pre></td></tr></table></figure></p>
<p>where <strong>n</strong> is the largest number (i.e. maxNum) that available for outputs in the range of [0.0, 1000). It will be computed in the program. </p>
<p>To format outputs, I uses function <strong>fixed</strong> together with <strong>setprecision</strong> to fixed number of decimal places and <strong>showpoint</strong> to enable the display of trailing 0. A detailed comparison between these three can be found in <a href="http://quanttour.com/02/03/2018/C-Working-with-batches-of-data/" target="_blank" rel="noopener">C++ - Working with batches of data</a>.</p>
<p>Please find the <strong>midth.cpp</strong> and <strong>midth.h</strong> in exercise 4-2/3. The main function file is shown below.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Accelerated C++ Solutions Exercises 4-4</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"width.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;				<span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;			<span class="keyword">using</span> <span class="built_in">std</span>::setw;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::setprecision;	<span class="keyword">using</span> <span class="built_in">std</span>::fixed;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::streamsize;		<span class="keyword">using</span> <span class="built_in">std</span>::showpoint;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::noshowpoint;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// asks toset the range for outputs</span></span><br><span class="line">	<span class="keyword">double</span> minNum, incrementByValue;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter an intial value greater than or equal to 0.0 and less than 1000.0: "</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; minNum;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="string">"Enter the increment for each line of outputs: "</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; incrementByValue;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// bounds check</span></span><br><span class="line">    <span class="keyword">if</span> (minNum &gt;= <span class="number">1000.0</span> || minNum &lt; <span class="number">0.0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"The entered value is beyond the allowed value range. Please try again."</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// asks to enter a value that determines decimal places</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"How many places you want to keep after decimal point?\n"</span></span><br><span class="line">    		<span class="string">"Enter an integer to determine decimal places: "</span>;</span><br><span class="line">    <span class="keyword">int</span> places;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; places;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// get the largest value that available for outputs</span></span><br><span class="line">    <span class="keyword">double</span> maxNum = minNum;</span><br><span class="line">    <span class="keyword">while</span> ((maxNum + incrementByValue) &lt; <span class="number">1000.0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    	maxNum += incrementByValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// write the outputs</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">double</span> i = minNum; i &lt; <span class="number">1000.0</span>; i += incrementByValue)</span><br><span class="line">    &#123;</span><br><span class="line">    	streamsize prec = <span class="built_in">cout</span>.precision();</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; showpoint &lt;&lt; fixed &lt;&lt; setprecision(places) </span><br><span class="line">        &lt;&lt; setw(width(maxNum) + places + <span class="number">1</span>) &lt;&lt; i</span><br><span class="line">        &lt;&lt; setw(width(maxNum*maxNum) + places + <span class="number">2</span>) &lt;&lt; i*i </span><br><span class="line">        &lt;&lt; setprecision(prec) &lt;&lt; noshowpoint &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>It is worth noting that we cannot use equality and inequality operators in the floating point value conditions as floating values cannot be precisely  represented in the computer world. Due to this limitation, I change the condition <strong>i != 1000</strong> to <strong>i &lt; 1000.0</strong>. I did several tests to show how is the performance.</p>
<p><strong>Test 1</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Enter an intial value greater than or equal to 0.0 and less than 1000.0: 0</span><br><span class="line">Enter the increment for each line of outputs: 100</span><br><span class="line">How many places you want to keep after decimal point?</span><br><span class="line">Enter an integer to determine decimal places: 0</span><br><span class="line">  0.      0.</span><br><span class="line">100.  10000.</span><br><span class="line">200.  40000.</span><br><span class="line">300.  90000.</span><br><span class="line">400. 160000.</span><br><span class="line">500. 250000.</span><br><span class="line">600. 360000.</span><br><span class="line">700. 490000.</span><br><span class="line">800. 640000.</span><br><span class="line">900. 810000.</span><br></pre></td></tr></table></figure></p>
<p><strong>Test 2</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Enter an intial value greater than or equal to 0.0 and less than 1000.0: 0.5234</span><br><span class="line">Enter the increment for each line of outputs: 0.5</span><br><span class="line">How many places you want to keep after decimal point?</span><br><span class="line">Enter an integer to determine decimal places: 4</span><br><span class="line">  0.5234      0.2739</span><br><span class="line">  1.0234      1.0473</span><br><span class="line">  1.5234      2.3207</span><br><span class="line">  2.0234      4.0941</span><br><span class="line">  2.5234      6.3675</span><br><span class="line">  3.0234      9.1409</span><br><span class="line">  3.5234     12.4143</span><br><span class="line">  4.0234     16.1877</span><br><span class="line">  4.5234     20.4611</span><br><span class="line">  5.0234     25.2345</span><br><span class="line">  5.5234     30.5079</span><br><span class="line">  6.0234     36.2813</span><br><span class="line">  6.5234     42.5547</span><br><span class="line">  ....       ....</span><br><span class="line">996.0234 992062.6133</span><br><span class="line">996.5234 993058.8867</span><br><span class="line">997.0234 994055.6601</span><br><span class="line">997.5234 995052.9335</span><br><span class="line">998.0234 996050.7069</span><br><span class="line">998.5234 997048.9803</span><br><span class="line">999.0234 998047.7537</span><br><span class="line">999.5234 999047.0271</span><br></pre></td></tr></table></figure></p>
<p><strong>Test 3</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Enter an intial value greater than or equal to 0.0 and less than 1000.0: 999</span><br><span class="line">Enter the increment for each line of outputs: 1</span><br><span class="line">How many places you want to keep after decimal point?</span><br><span class="line">Enter an integer to determine decimal places: 1</span><br><span class="line">999.0 998001.0</span><br><span class="line">```</span><br></pre></td></tr></table></figure></p>
<hr>
<h1 id="Exercise-4-5"><a href="#Exercise-4-5" class="headerlink" title="Exercise 4-5"></a>Exercise 4-5</h1><p>Write a function that reads words from an input stream and stores them in a vector. Use that function both to write programs that count the number of words in the input, and to count how many times each word occurred.</p>
<h2 id="Solution-amp-Results-3"><a href="#Solution-amp-Results-3" class="headerlink" title="Solution &amp; Results"></a>Solution &amp; Results</h2><p>This exercise is a variant of <a href="http://quanttour.com/04/03/2018/Accelerated-C-Solutions-to-Exercise-Chapter-3/" target="_blank" rel="noopener">Chapter 3 Exercise 3-3</a>. I uses exactly the same solution strategy in this project. Therefore, no more discussion here. The code and tests can be found below.</p>
<p><strong>mainfunction.cpp</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"wordsRead.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;		<span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;    <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">endl</span>;	<span class="keyword">using</span> <span class="built_in">std</span>::setw;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::domain_error;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// hold the information of each words</span></span><br><span class="line">	<span class="built_in">vector</span>&lt;words_info&gt; words;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// type alias</span></span><br><span class="line">	<span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;words_info&gt;::size_type vec_size;</span><br><span class="line">	<span class="keyword">typedef</span> <span class="built_in">string</span>::size_type str_size;</span><br><span class="line">	str_size word_size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// count the number of words</span></span><br><span class="line">	<span class="keyword">int</span> totalNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// asks to enter words</span></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Please enter words: "</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// read, count and store words</span></span><br><span class="line">            wordsRead(<span class="built_in">cin</span>, words, totalNum, word_size);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// write the total number of inputs</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"The total number of words is: "</span> &lt;&lt; totalNum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// write each distinct word and its occurrence number</span></span><br><span class="line">            <span class="keyword">for</span> (vec_size i = <span class="number">0</span>; i != words.size(); ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// format each line</span></span><br><span class="line">                <span class="keyword">int</span> n = <span class="number">9</span> + word_size - words[i].wordName.size();</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; words[i].wordName &lt;&lt; setw(n) &lt;&lt; <span class="string">" appears "</span></span><br><span class="line">                        &lt;&lt; words[i].count &lt;&lt; <span class="string">" times"</span>&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">		&#125;<span class="keyword">catch</span>(domain_error)&#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">"You must enter at least one word. Please try again."</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>wordsRead.cpp</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function to read, count and store words</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"wordsRead.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::istream;		<span class="keyword">using</span> <span class="built_in">std</span>::domain_error;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;		<span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="function">istream &amp; <span class="title">wordsRead</span><span class="params">(istream &amp;is, <span class="built_in">vector</span>&lt;words_info&gt; &amp;words, <span class="keyword">int</span> &amp;totalNum, <span class="built_in">string</span>::size_type &amp;word_size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	words_info word;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// loop invariant: we have read totalNum words now</span></span><br><span class="line">	<span class="keyword">while</span>(is &gt;&gt; word.wordName)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// maintain the loop invariant</span></span><br><span class="line">		++totalNum;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// find the size of the longest word</span></span><br><span class="line">		<span class="keyword">if</span> (word_size &lt; word.wordName.size())</span><br><span class="line">			word_size = word.wordName.size();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// set flag to find each distinct word</span></span><br><span class="line">		<span class="comment">// flag == true: the word is distinct</span></span><br><span class="line">		<span class="comment">// flag == false: the word exists</span></span><br><span class="line">		<span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">vector</span>&lt;words_info&gt;::size_type i = <span class="number">0</span>; i != words.size(); ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">// compare with previous distinct words</span></span><br><span class="line">			<span class="keyword">if</span> (word.wordName == words[i].wordName)</span><br><span class="line">			&#123;</span><br><span class="line">				++words[i].count;</span><br><span class="line">				flag = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// if the word has not been entered, store</span></span><br><span class="line">		<span class="keyword">if</span> (flag == <span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			word.count = <span class="number">1</span>;</span><br><span class="line">			words.push_back(word);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (totalNum == <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">throw</span> domain_error(<span class="string">"No input"</span>);</span><br><span class="line">	<span class="keyword">return</span> is;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>wordsRead.h</strong><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GUARD_wordsRead_h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GUARD_wordsRead_h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">words_info</span>&#123;</span></span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">string</span> wordName;</span><br><span class="line">	<span class="keyword">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="function">istream &amp; <span class="title">wordsRead</span><span class="params">(<span class="built_in">std</span>::istream &amp;, <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;words_info&gt; &amp;words, <span class="keyword">int</span> &amp;, <span class="built_in">std</span>::<span class="built_in">string</span>::size_type &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* GUARD_wordsRead_h */</span></span></span><br></pre></td></tr></table></figure></p>
<h3 id="Test-Performance"><a href="#Test-Performance" class="headerlink" title="Test Performance"></a>Test Performance</h3><p><strong>Test 1</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Please enter words: I am a good teacher and you are a good student</span><br><span class="line">The total number of words is: 11</span><br><span class="line">I       appears 1 times</span><br><span class="line">am      appears 1 times</span><br><span class="line">a       appears 2 times</span><br><span class="line">good    appears 2 times</span><br><span class="line">teacher appears 1 times</span><br><span class="line">and     appears 1 times</span><br><span class="line">you     appears 1 times</span><br><span class="line">are     appears 1 times</span><br><span class="line">student appears 1 times</span><br></pre></td></tr></table></figure></p>
<p><strong>Test 2</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Please enter words: what happens depends on the range of the values that the types permit</span><br><span class="line">The total number of words is: 13</span><br><span class="line">what    appears 1 times</span><br><span class="line">happens appears 1 times</span><br><span class="line">depends appears 1 times</span><br><span class="line">on      appears 1 times</span><br><span class="line">the     appears 3 times</span><br><span class="line">range   appears 1 times</span><br><span class="line">of      appears 1 times</span><br><span class="line">values  appears 1 times</span><br><span class="line">that    appears 1 times</span><br><span class="line">types   appears 1 times</span><br><span class="line">permit  appears 1 times</span><br></pre></td></tr></table></figure></p>
<hr>
<p>To be continued.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Accelerated-C-Solutions/" rel="tag"># Accelerated C++ Solutions</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/08/03/2018/Organizing-programs-and-data-Part-2/" rel="next" title="C++ - Organizing programs with data structures">
                <i class="fa fa-chevron-left"></i> C++ - Organizing programs with data structures
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/11/03/2018/Accelerated-C-Solutions-to-Exercises-Chapter-4-Part-2/" rel="prev" title="Accelerated C++ Solutions to Exercises(Chapter 4 Part 2)">
                Accelerated C++ Solutions to Exercises(Chapter 4 Part 2) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Liam</p>
              <p class="site-description motion-element" itemprop="description">Stochastic Modelling Notes; Programming Notes</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">53</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/quantliam" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:yanshijiutu@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Exercise-4-0"><span class="nav-number">1.</span> <span class="nav-text">Exercise 4-0</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-amp-Results"><span class="nav-number">1.1.</span> <span class="nav-text">Solution &amp; Results</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Exercise-4-1"><span class="nav-number">2.</span> <span class="nav-text">Exercise 4-1</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-amp-Results-1"><span class="nav-number">2.1.</span> <span class="nav-text">Solution &amp; Results</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Exercise-4-2-4-3"><span class="nav-number">3.</span> <span class="nav-text">Exercise 4-2, 4-3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-amp-Result"><span class="nav-number">3.1.</span> <span class="nav-text">Solution &amp; Result</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#algorithms"><span class="nav-number">3.1.1.</span> <span class="nav-text">algorithms</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#organize-the-program-with-functions"><span class="nav-number">3.1.2.</span> <span class="nav-text">organize the program with functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Test-performance"><span class="nav-number">3.1.3.</span> <span class="nav-text">Test performance</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Exercise-4-4"><span class="nav-number">4.</span> <span class="nav-text">Exercise 4-4</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-amp-Results-2"><span class="nav-number">4.1.</span> <span class="nav-text">Solution &amp; Results</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Exercise-4-5"><span class="nav-number">5.</span> <span class="nav-text">Exercise 4-5</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-amp-Results-3"><span class="nav-number">5.1.</span> <span class="nav-text">Solution &amp; Results</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Test-Performance"><span class="nav-number">5.1.1.</span> <span class="nav-text">Test Performance</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liam</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">120.1k</span>
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
